<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">   
  <ui:composition template="/template/template.xhtml" >
    <ui:define name="content">
          
      <!-- Sección de información del Local onclick="window.location.replace('index.xhtml')"-->
      <p:panelGrid style="width: 100%">
        <p:row>
          <p:column rowspan="2" style="background-color: white;
                    border-right-color: transparent;
                    border-top-color: black;
                    border-top-width: medium;
                    border-left-color: black;
                    border-left-width: medium;
                    border-bottom-color: black;
                    border-bottom-width: medium;
                    width: 165px">
            <p:graphicImage library="images"
                            style="width: 165px;
                            height: auto"
                            name="restaurante.jpg" /> 
          </p:column>

          <p:column style="background-color: red; 
                    border-bottom-color: transparent;
                    border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-top-color: black;
                    border-top-width: medium">
              <h:outputText value="#{comentarioController.local.nombre}"
                          style="color: white;
                          font-weight: bolder;
                          letter-spacing: 0.05cm;
                          font-size: large"/>
          </p:column>

          <p:column style="background-color: red;
                    border-bottom-color: transparent;
                    border-top-color: black;
                    border-top-width: medium;
                    border-right-color: black;
                    border-right-width: medium">
              <p:rating value="#{comentarioController.local.calificacion}"
                      style="float: right"
                      stars="5"
                      readonly="true"
                      cancel="false"/>
          </p:column>
        </p:row>


        <p:row>
          <p:column style="border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-bottom-color: black;
                    border-bottom-width: medium">
              <h:outputText value="#{comentarioController.local.descripcion}"
                          style="font-weight: bold;
                          font-size: medium"/>

          </p:column>

          <p:column style="border-bottom-color: black;
                    border-bottom-width: medium;
                    border-right-color: black;
                    border-right-width: medium">

          </p:column>
        </p:row>
      </p:panelGrid>
            
            
	<br></br>
        
      <p:accordionPanel activeIndex="2">
      <p:tab title="Información del Local"
             titleStyle="font-size: large;
             background: red;
             text-color: white;
             text-shadow: none;">
                              
      <h:panelGrid columns="3" cellpadding="1">
          
        <p:outputLabel value="Categoria: "
                         style="font-weight: bolder;
                         font-size: large"/>
        <p:outputLabel value="Tortas"
                       style="font-weight: bolder;
                       font-size: large" />
           <br/>

        <p:outputLabel  value="Precios:"
                        style="font-weight: bolder;
                        font-size: large"/>
        <p:outputLabel value="$17 ~ $45"
                       style="font-weight: bolder;
                       font-size: large"/>

        <br/>
        
        <p:column>
        <h:outputText value="Baño: " 
                      style="font-weight: bolder;
                      font-size: large"/>
        <h:outputText value="Si " 
                      style="font-weight: bolder;
                      font-size: large"/>
        </p:column>

        <p:column>
        <h:outputText value="Estacionamiento: "
                      style="font-weight: bolder;
                      font-size: large"/>
        <h:outputText value="No" 
                      style="font-weight: bolder;
                      font-size: large"/>
        </p:column>

        <p:column>
        <h:outputText value="Internet: " 
                      style="font-weight: bolder;
                      font-size: large"/>
        <h:outputText value="Si " 
                      style="font-weight: bolder;
                      font-size: large"/>
        </p:column>

        <p:outputLabel value="Bicipuma: "
                       style="font-weight: bolder;
                       font-size: large"/>
        <h:outputText value="Anexo de Ingeniería " 
                      style="font-weight: bolder;
                      font-size: large"/>

        <br/>
        <p:outputLabel value="Pumabus: "
                       style="font-weight: bolder;
                       font-size: large"/>
        <h:outputText value="Anexo de Ingeniería " 
                      style="font-weight: bolder;
                      font-size: large"/>

        <br/>
        <p:outputLabel value="Metrobus: "
                       style="font-weight: bolder;
                       font-size: large"/>
        <h:outputText value="No " 
                      style="font-weight: bolder;
                      font-size: large"/>
        <br/>
        <p:outputLabel value="Facultad: "
                       style="font-weight: bolder;
                       font-size: large"/>
        <h:outputText value="Ingeniería " 
                      style="font-weight: bolder;
                      font-size: large"/>                   
      </h:panelGrid>
        
        
    
      </p:tab>
      </p:accordionPanel>
        
      <br/>
        
      <!-- Mapa del local -->
        
      <p:gmap id="gmap"
              center="19.3142052,-99.1835216"
              zoom="14" 
              type="HYBRID" 
              style="width:600px;height:400px"
              onPointClick="agregaMarcador(event);"
              widgetVar="map"
              disableDoubleClickZoom="true"      
              ></p:gmap>
      <br/>
      <script type="text/javascript" 
              src="http://maps.googleapis.com/maps/api/js"/>
      <br/>
          
      <!-- Fin información locales -->
      <!-- Sección Comentarios -->
             
      <p:dataScroller value="#{comentarioController.local.comentarios}" var="com" chunkSize="20" mode="inline" scrollHeight="500" >
           <p:panelGrid style="width: 80%" >
        
        <!-- Comentario 1 -->
        <p:row>
          <p:column style="background-color: red; 
                    border-bottom-color: transparent;
                    border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-top-color: black;
                    border-top-width: medium">
              <h:outputText value="#{com.usuario.nombre}"
                          style="color: white;
                          font-weight: bolder;
                          letter-spacing: 0.05cm;
                          font-size: large"/>
          </p:column>
          <p:column style="background-color: red;
                    border-bottom-color: transparent;
                    border-top-color: black;
                    border-top-width: medium;
                    border-right-color: black;
                    border-right-width: medium">
              <p:rating value="#{com.calificacion}"
                      style="float: right"
                      stars="5"
                      readonly="true"
                      cancel="false"/>
          </p:column>
        </p:row>
        <p:row>
          <p:column style="border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-bottom-color: black;
                    border-bottom-width: medium">
              <h:outputText value="#{com.comentario}"
                          style="font-weight: bold;
                          font-size: medium"/>
          </p:column>
          <p:column style="border-bottom-color: black;
                    border-bottom-width: medium;
                    border-right-color: black;
                    border-right-width: medium" />
        </p:row>
           </p:panelGrid>
          </p:dataScroller>
          
          
     
          
      <!-- Comentario del Usuario -->
      <h:form id="form">
<p:growl id="messages" showDetail="true" />
      <p:panelGrid style="width: 80%">
        <p:row>
          <p:column style="background-color: red; 
                    border-bottom-color: transparent;
                    border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-top-color: black;
                    border-top-width: medium">
            
          </p:column>
          <p:column style="background-color: red;
                    border-bottom-color: transparent;
                    border-top-color: black;
                    border-top-width: medium;
                    border-right-color: black;
                    border-right-width: medium">
              <p:rating id="calificacion" value="#{comentarioController.comentario.calificacion}"
                      style="float: right"
                      stars="5"
                      readonly="false"
                      cancel="false"/>
            
          </p:column>
        </p:row>
        <p:row >
          <p:column  style="border-right-color: transparent;
                    border-left-color: black;
                    border-left-width: medium;
                    border-bottom-color: black;
                    border-bottom-width: medium">
              <p:inputText id="comentario" value="#{comentarioController.comentario.comentario}" placeholder="Escribe tu comentario"
                         style="width: 150%;height:30px"/>
          </p:column>
          <p:column style="border-bottom-color: black;
                    border-bottom-width: medium;
                    border-right-color: black;
                    border-right-width: medium" />
        </p:row>
      </p:panelGrid>
</h:form>
      <!-- Fin del comentario del usuario 
      <h:outputText value="Escribe tu comentario"
                          style="font-weight: bold;
                          font-size: medium"/>
      -->
          
          
          
      <!--Sección de Botones -->
      <br/>
      <h:panelGrid columns="4" columnClasses="logo,detail">
        <p:outputPanel>								
          <p:commandButton ajax="true" 
                           accesskey=""
                           style="-webkit-box-shadow: none!important;
                           -moz-box-shadow: none!important;
                           box-shadow: none!important;
                           background-image: none!important;
                           text-shadow: none!important;
                           color:white;
                           font-weight: bolder;
                           font-size: medium;
                           background-color: red"
                           value="Cancelar"
                           action="inicio"/>	
          <p:commandButton ajax="true"
                           style="-webkit-box-shadow: none!important;
                           -moz-box-shadow: none!important;
                           box-shadow: none!important;
                           background-image: none!important;
                           text-shadow: none!important;
                           color:white;
                           font-weight: bolder;
                           font-size: medium;
                           background-color: blue"
                           value="Enviar"
                           action ="verLocal"
                           actionListener="#{comentarioController.guardaComentario()}"
                           
                           />
          <p:commandButton ajax="true" 
                           style="-webkit-box-shadow: none!important;
                           -moz-box-shadow: none!important;
                           box-shadow: none!important;
                           background-image: none!important;
                           text-shadow: none!important;
                           color:white;
                           font-weight: bolder;
                           font-size: medium;
                           background-color: blue"
                           value="Comentar Facebook"
                           onclick="irUrl('https://www.facebook.com/dialog/feed?app_id=145634995501895&amp;display=popup&amp;link=https%3A%2F%developers.facebook.com%2Fdocs%2F&amp;redirect_uri=https://www.facebook.com/dialog/feed?app_id=145634995501895&amp;display=popup&amp;link=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2F&amp;redirect_uri=https://developers.facebook.com/tools/explorer&amp;name= NOmbre del local&amp;description='+getComentario($('input[id=&quot;form:comentario&quot;]')[0].value))"/>
                           
                           <!--onclick="irUrl('https://www.facebook.com/dialog/feed?app_id=145634995501895&amp;display=popup&amp;link=https%3A%2F%developers.facebook.com%2Fdocs%2F&amp;redirect_uri=https://www.facebook.com/dialog/feed?app_id=145634995501895&amp;display=popup&amp;link=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2F&amp;redirect_uri=https://developers.facebook.com/tools/explorer&amp;name= NOmbre del local&amp;description='+getComentario($('input[id=&quot;comentario&quot;]')[0].value))"/>
-->
          <p:commandButton ajax="true" 
                           style="-webkit-box-shadow: none!important;
                           -moz-box-shadow: none!important;
                           box-shadow: none!important;
                           background-image: none!important;
                           text-shadow: none!important;
                           color:white;
                           font-weight: bolder;
                           font-size: medium;
                           background-color: blue"
                           value="Comentar Twitter"
                           onclick="Alerta(getComentario($('input[id=&quot;form:comentario&quot;]')[0].value))"
                           />
        </p:outputPanel>
      </h:panelGrid>
      <!-- Fin seccion de botones -->
        
    </ui:define>
  </ui:composition>
</html>